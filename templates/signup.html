{{template "base.html"}}
<div class="hero min-h-screen bg-base-200">
  <div class="hero-content text-start">
    <div class="py-3 flex flex-col items-start">
      <form class="p-2 flex flex-col w-full justify-start items-stretch">
        <h1 class="text-3xl text-cyan-500 font-bold self-center">Signup</h1>
        <label for="username">UserName</label>
        <input
          type="text"
          class="border-2 border-neutral-600 p-1 rounded-md"
          autocomplete="off"
          name="username"
          id="username"
        />
        <label class="mt-3" for="password">Password</label>
        <input
          type="password"
          class="border-2 border-neutral-600 p-1 rounded-md"
          autocomplete="off"
          name="password"
          id="password"
        />
        <p id="message"></p>
        <button
          hx-post="/createUser"
          hx-target="#message"
          hx-trigger="click"
          class="bg-black justify-center text-white p-2 rounded-md mt-5 w-1/2 self-center"
          type="submit"
        >
          üôè Submit
        </button>
      </form>
    </div>
  </div>
</div>
<script>
  document
    .getElementById("message")
    .addEventListener("htmx:afterSwap", (event) => {
      var message = document.getElementById("message").innerHTML;
      if (message != "User created") {
        //set red color to "message"
        document.getElementById("message").style.color = "red";
        document.getElementById("message").innerHTML +=
          " <a style='color:blue' href= '/login'>Login</a>  ";
        // setTimeout(() => {
        //   window.location.href = "/login";
        // }, 3000);
      }
    });
</script>
